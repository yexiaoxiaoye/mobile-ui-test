<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>美化应用 - 便携式配置方案</title>
    <script src="jquery-3.js"></script>
    <link rel="stylesheet" href="styles/phone-interface.css">
    <link rel="stylesheet" href="styles/wallpaper-app.css">
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh;
        }
        
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        .demo-title {
            color: white;
            font-size: 32px;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .demo-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 18px;
            margin-bottom: 30px;
        }
        
        .solution-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .solution-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            color: white;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: left;
        }
        
        .solution-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #FFD700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .solution-icon {
            font-size: 24px;
        }
        
        .solution-desc {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .solution-pros {
            background: rgba(76, 175, 80, 0.2);
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
        }
        
        .solution-cons {
            background: rgba(244, 67, 54, 0.2);
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
        }
        
        .demo-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 15px 30px;
            margin: 10px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .demo-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .recommended {
            border: 2px solid #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        
        .step-list {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .step-list ol {
            margin: 0;
            padding-left: 20px;
        }
        
        .step-list li {
            margin: 8px 0;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1 class="demo-title">🎨 美化应用 - 便携式配置方案</h1>
        <p class="demo-subtitle">完全免安装，适配所有环境（手机、云服务器、GitHub安装）</p>
        
        <div class="solution-grid">
            <!-- 方案1：自动导出/导入 -->
            <div class="solution-card recommended">
                <div class="solution-title">
                    <span class="solution-icon">📁</span>
                    方案1：自动导出/导入（推荐）
                </div>
                <div class="solution-desc">
                    每次更换壁纸时自动下载配置文件到用户的下载文件夹，用户可以手动将文件放到其他设备的相同位置。
                </div>
                <div class="solution-pros">
                    <strong>✅ 优点：</strong>
                    <ul>
                        <li>完全免安装，无需任何配置</li>
                        <li>适用于所有环境（手机、云服务器等）</li>
                        <li>用户可以手动管理配置文件</li>
                        <li>支持GitHub直接安装</li>
                    </ul>
                </div>
                <div class="solution-cons">
                    <strong>❌ 缺点：</strong>
                    <ul>
                        <li>需要用户手动复制文件</li>
                        <li>不是完全自动化</li>
                    </ul>
                </div>
                <div class="step-list">
                    <strong>使用方法：</strong>
                    <ol>
                        <li>设置壁纸后自动下载配置文件</li>
                        <li>将文件复制到其他设备的相同位置</li>
                        <li>在新设备上导入配置文件</li>
                    </ol>
                </div>
            </div>
            
            <!-- 方案2：云存储同步 -->
            <div class="solution-card">
                <div class="solution-title">
                    <span class="solution-icon">☁️</span>
                    方案2：云存储同步
                </div>
                <div class="solution-desc">
                    将配置文件保存到用户的云存储文件夹（如OneDrive、Dropbox等），实现自动同步。
                </div>
                <div class="solution-pros">
                    <strong>✅ 优点：</strong>
                    <ul>
                        <li>真正的跨设备自动同步</li>
                        <li>用户无需手动操作</li>
                        <li>支持实时同步</li>
                    </ul>
                </div>
                <div class="solution-cons">
                    <strong>❌ 缺点：</strong>
                    <ul>
                        <li>需要用户有云存储账户</li>
                        <li>需要配置云存储路径</li>
                        <li>在某些环境下可能不可用</li>
                    </ul>
                </div>
            </div>
            
            <!-- 方案3：浏览器扩展存储 -->
            <div class="solution-card">
                <div class="solution-title">
                    <span class="solution-icon">🔗</span>
                    方案3：增强localStorage
                </div>
                <div class="solution-desc">
                    使用浏览器的同步功能，将配置保存到可同步的存储区域。
                </div>
                <div class="solution-pros">
                    <strong>✅ 优点：</strong>
                    <ul>
                        <li>完全免安装</li>
                        <li>利用浏览器原生同步</li>
                        <li>适用于桌面环境</li>
                    </ul>
                </div>
                <div class="solution-cons">
                    <strong>❌ 缺点：</strong>
                    <ul>
                        <li>只在同一浏览器账户下有效</li>
                        <li>手机浏览器支持有限</li>
                        <li>云服务器环境不适用</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div style="margin: 30px 0;">
            <button class="demo-btn" onclick="openWallpaperApp()">🎨 体验美化应用</button>
            <button class="demo-btn" onclick="testAutoExport()">📁 测试自动导出</button>
            <button class="demo-btn" onclick="showConfigLocation()">📍 查看配置位置</button>
        </div>
        
        <div style="background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 20px; margin: 20px 0; text-align: left;">
            <h3 style="color: #FFD700; margin-top: 0;">💡 推荐使用方案1的原因</h3>
            <p style="color: white; line-height: 1.6;">
                考虑到你的用户可能在各种环境下使用（手机、云服务器、GitHub直接安装），
                <strong>方案1（自动导出/导入）</strong>是最适合的选择：
            </p>
            <ul style="color: white; line-height: 1.6;">
                <li><strong>零依赖</strong>：不需要安装任何额外软件或服务</li>
                <li><strong>全平台兼容</strong>：在任何支持浏览器的设备上都能工作</li>
                <li><strong>用户友好</strong>：提供清晰的导入/导出界面</li>
                <li><strong>GitHub友好</strong>：通过GitHub安装的用户可以直接使用</li>
                <li><strong>灵活性高</strong>：用户可以选择何时何地同步配置</li>
            </ul>
        </div>
    </div>

    <script src="apps/phone-interface.js"></script>
    <script src="apps/wallpaper-app.js"></script>
    
    <script>
        function openWallpaperApp() {
            if (window.WallpaperApp && window.PhoneInterface) {
                window.PhoneInterface.show();
                setTimeout(() => {
                    window.WallpaperApp.show();
                }, 500);
            }
        }
        
        function testAutoExport() {
            if (window.WallpaperApp) {
                const testData = {
                    currentWallpaper: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400',
                    history: [
                        {
                            url: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400',
                            name: '测试壁纸',
                            timestamp: Date.now()
                        }
                    ]
                };
                window.WallpaperApp.autoExportConfig(testData);
                alert('📁 测试配置文件已导出到下载文件夹！');
            }
        }
        
        function showConfigLocation() {
            alert(`📍 配置文件位置说明：

🔄 当前模式：自动导出/导入
📁 导出位置：浏览器默认下载文件夹
📄 文件名：wallpaper-config.json

💡 使用方法：
1. 设置壁纸后会自动下载配置文件
2. 将文件复制到其他设备
3. 在新设备上点击"导入配置"选择文件

✨ 这种方式完全免安装，适用于所有环境！`);
        }
        
        $(document).ready(async function() {
            console.log('🎨 便携式配置演示页面已加载');
            
            if (window.PhoneInterface) {
                window.PhoneInterface.init();
            }
            
            if (window.WallpaperApp) {
                await window.WallpaperApp.init();
                // 启用自动导出功能
                window.WallpaperApp.useAutoExport = true;
                console.log('✅ 自动导出功能已启用');
            }
        });
    </script>
</body>
</html>
